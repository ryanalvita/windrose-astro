---
// Props: binCount, minSpeed, maxSpeed, binSize, onConfigChange, onReset, onUpload, onGenerateData
const {
    binCount,
    minSpeed,
    maxSpeed,
    binSize,
    onConfigChange,
    onReset,
    onUpload,
    onGenerateData,
} = Astro.props;
---

<div class="mb-6 mx-6">
    <div class="flex items-center mb-2">
        <h2>Configuration</h2>
        <button
            id="resetBtn"
            class="ml-auto px-4 py-2 bg-gray-400 text-white rounded-md hover:bg-gray-600 hover:shadow focus:outline-none font-medium transition-colors cursor-pointer"
            onclick={onReset}>Reset</button
        >
    </div>
    <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4">
        <div class="flex flex-wrap gap-4 items-center">
            <label class="font-medium">Compass Bins:</label>
            <select
                id="binCount"
                class="px-3 py-2 border border-gray-300 rounded-md w-20 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500"
                value={binCount}
                onchange={(e) => onConfigChange("binCount", e.target.value)}
            >
                <option value="4">4</option>
                <option value="8">8</option>
                <option value="16">16</option>
            </select>
            <label class="font-medium ml-4">Min Speed:</label>
            <input
                type="number"
                id="minSpeed"
                value={minSpeed}
                min="0"
                step="0.5"
                class="px-3 py-2 border border-gray-300 rounded-md w-20 focus:outline-none focus:ring-2 focus:ring-blue-500"
                oninput={(e) => onConfigChange("minSpeed", e.target.value)}
            />
            <label class="font-medium ml-4">Max Speed:</label>
            <input
                type="number"
                id="maxSpeed"
                value={maxSpeed}
                min="1"
                step="0.5"
                class="px-3 py-2 border border-gray-300 rounded-md w-20 focus:outline-none focus:ring-2 focus:ring-blue-500"
                oninput={(e) => onConfigChange("maxSpeed", e.target.value)}
            />
            <label class="font-medium ml-4">Bin Size:</label>
            <input
                type="number"
                id="binSize"
                value={binSize}
                min="0.5"
                step="0.5"
                class="px-3 py-2 border border-gray-300 rounded-md w-20 focus:outline-none focus:ring-2 focus:ring-blue-500"
                oninput={(e) => onConfigChange("binSize", e.target.value)}
            />
        </div>
    </div>
    <div class="flex items-center mt-4">
        <label
            for="fileUpload"
            class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-800 focus:outline-none cursor-pointer font-medium transition-colors"
            >üìÅ Upload CSV File</label
        >
        <input
            type="file"
            id="fileUpload"
            accept=".csv"
            class="hidden"
            onchange={onUpload}
        />
        <button
            id="generateDataBtn"
            class="px-3 py-2 ml-4 bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 hover:scale-110 hover:shadow-lg hover:shadow focus:outline-none font-medium text-xl transition-all duration-150 cursor-pointer"
            title="Generate Sample Data"
            onclick={onGenerateData}>üé≤</button
        >
    </div>
</div>
